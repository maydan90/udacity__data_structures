For this problem, I used dictionary for fast look up operation (O(1)).  At the same time, data was stored in double linked list
(DLL) codded as a queue to preserve ordering. All methods within DLL are performed in O(1) time. Admittedly, the problem could have been solved much easier using
OrderedDisc which is in-built in Python collections module.